# Besteats

> ë°°ë§Œ ì±„ìš°ë©´ ë˜ë˜ ì‹œëŒ€ëŠ” ì´ì œ ì˜›ë‚  ì–˜ê¸°!!

ì–´ë–»ê²Œ ë¨¹ì–´ì•¼ ë§›ìˆê²Œ ë¨¹ì„ìˆ˜ ìˆì„ê¹Œë¥¼ ê³ ë¯¼í•˜ëŠ” ì‹œëŒ€. <br>

ê¸°ë¡í•˜ê³  ë‚˜ë§Œì˜ ë ˆì‹œí”¼ë¡œ ë§›ìˆê²Œ ë¨¹ìğŸ—

  

<br>

## ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ì†Œê°œ](#í”„ë¡œì íŠ¸-ì†Œê°œ)
    - [ê¸°ëŠ¥ ì†Œê°œ](#ê¸°ëŠ¥ì†Œê°œ)

2. [ê³ ë¯¼í•œì ](#ê³ ë¯¼í•œì )

<br><br>

  


## í”„ë¡œì íŠ¸ ì†Œê°œ

### ğŸ‘¨â€ğŸ’» Developer
|ì´ë³‘í›ˆ (1ì¸ ê°œë°œ)|
|:--:|

<br>

### ì‘ì—… ìš”ì•½
- UIKit â†’ `SwiftUI` ì»¨ë²„íŒ… ì‘ì—…
- ë¡œì»¬ë°ì´í„° ê´€ë¦¬ ì»¨ë²„íŒ… ì‘ì—… (UserDefaults â†’ `CoreData`)
- ì•±ì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•´ `Swift Concurrency` ì ìš©
- `MapKit`ì„ ì´ìš©í•œ ê° ì§€ì—­ì¢Œí‘œì˜ ë§ˆì»¤í‘œì‹œ
- ì£¼ìš” ë¹„ì¦ˆë‹ˆìŠ¤ë¡œì§ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ `UnitTest` ì ìš©
    - Viewì˜ ë¡œì§ì´ ë§ì•„ì§ê³¼ ì—­í•  ë¶„ë¦¬ì— ë”°ë¥¸ `MVVM íŒ¨í„´` ì ìš©

<br>

### ì´ëŸ°ë¶„ë“¤ì—ê²Œ ì¶”ì²œí•©ë‹ˆë‹¤!

  

- ìŒì‹ì  ë§ˆë‹¤ ë‚˜ì—ê²Œ ë§ëŠ” ê°„ì´ë‚˜ ë§¤ìš´ë§›ì˜ ê°•ë„ê°€ ë‹¤ ë‹¤ë¥´ì§€ ì•Šì•˜ë‚˜?

- ì˜¤ëœë§Œì— ë°©ë¬¸í•œ ë§›ì§‘. ì–´ë–»ê²Œ ë¨¹ì–´ì•¼ ë§›ìˆì—ˆì§€? ë‹¤ìŒì—” ì´ê±¸ ë¨¹ì–´ë´ì•¼ê² ë‹¤ê³  í–ˆëŠ”ë° ê·¸ê²Œ ë­ì˜€ì§€?

- ì¼ì‹ì´ë‚˜ ì¤‘ì‹ì´ ë•¡ê¸°ëŠ”ë° ê·¼ì²˜ ë§›ì§‘ì´ ì–´ë”¨ì§€?

<br>
  

### Skills

- SwiftUI
- Swift Concurrency
- MVVM
- CoreData
- CLLocation
- MapKit
- UnitTest

  

<br>


### Tools

- Xcode(v15.2)
- SPM(Swift Package Manager)
- Tuist


<br>

### Version Target

- iOS 16.0

<br>

  

## ê¸°ëŠ¥ì†Œê°œ

<br>

### Main page (ê°œì¸ ë§›ì§‘ ê¸°ë¡)

<img width = "30%" src = "https://github.com/user-attachments/assets/7d9d49d8-e219-4ba4-980d-0a81146e5a28">

  

<br>

  

### ë§›ì§‘ í‹°ì¼“ (Grid)
- LazyVGridë¥¼ í™œìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ë“±ë¡í•œ ë§›ì§‘ë“¤ì„ í•œëˆˆì— ë³¼ ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•¨

  

<br>

  

### CRUD

- `CoreData`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë§›ì§‘ ì¶”ê°€, ë¶ˆëŸ¬ì˜¤ê¸°, ë³€ê²½, ì‚­ì œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì—¬ ë¡œì»¬ ë°ì´í„°ë¥¼ ê´€ë¦¬í•¨
- CoreDataManagerë¡œ CoreDataê´€ë ¨ ë¡œì§ë§Œ ë‹´ë‹¹í•˜ë„ë¡ êµ¬í˜„í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ìš©ì´í•˜ê²Œ í•˜ì˜€ìœ¼ë©°, ì˜ì¡´ì„±ì„ ë¶„ë¦¬ ì‹œí‚´

|Create <br> ë§›ì§‘, ë©”ë‰´ ë“±ë¡|Update, Delete <br>ë§›ì§‘ ë³€ê²½ & ì‚­ì œ
|:--:|:--:|
|<img width= "40%" src = "https://github.com/user-attachments/assets/f1818719-f310-47de-88d9-0ccfb1b25097">|<img width= "60%" src = "https://github.com/user-attachments/assets/d733033f-f119-41e9-9f9f-ab164d86d051">|



<br><br>

#### Create ([ë§í¬](https://github.com/Bhoon-coding/BestEats_refactor/blob/bcf96f7d84150aeff5cf34a91098eb708c7ce5d3/BestEats/Managers/CoreData/CoreDataManager.swift#L30C1-L72C6))


<details> 
<summary> ì†ŒìŠ¤ì½”ë“œ </summary>
    
```swift 
// MARK: - Add
    
    func addRestaurant(
        _ restaurantName: String,
        _ menuName: String,
        _ oneLiner: String,
        _ rateType: Rate,
        _ isFavorite: Bool
    ) {
        let newRestaurant = Restaurant(context: context)
        let newMenu = Menu(context: context)
        
        newRestaurant.id = UUID()
        newRestaurant.name = restaurantName
        
        newMenu.id = UUID()
        newMenu.name = menuName
        newMenu.oneLiner = oneLiner
        newMenu.rate = rateType.rawValue
        newMenu.restaurant = newRestaurant
        newMenu.isFavorite = isFavorite
        
        saveContext()
    }
    
    func addMenu(
        with restaurant: Restaurant,
        _ name: String,
        _ oneLiner: String,
        _ rateType: Rate,
        _ isFavorite: Bool
    ) {
        let newMenu = Menu(context: context)
        
        newMenu.id = UUID()
        newMenu.name = name
        newMenu.oneLiner = oneLiner
        newMenu.rate = rateType.rawValue
        newMenu.isFavorite = isFavorite
        newMenu.restaurant = restaurant
        
        fetchMenu(with: restaurant, rateType)
    }

```
    

</details>





#### Read ([ë§í¬](https://github.com/Bhoon-coding/BestEats_refactor/blob/bcf96f7d84150aeff5cf34a91098eb708c7ce5d3/BestEats/Managers/CoreData/CoreDataManager.swift#L126))

<details>
<summary>ì†ŒìŠ¤ì½”ë“œ</summary>
    
```swift
    
init() {
        self.container = NSPersistentContainer(name: "RestaurantList")
        self.container.loadPersistentStores { _, error in
            if let error = error as NSError? {
                print("Unresolved error: \(error), \(error.localizedDescription)")
            }
        }
        self.context = self.container.viewContext
        fetchRestaurant() // ì´ˆê¸°í™”ì‹œ ë°ì´í„° fetch
    }
    
private func fetchRestaurant() {
        let request = NSFetchRequest<Restaurant>(entityName: "Restaurant")
        do {
            self.savedRestaurant = try context.fetch(request)
        } catch {
            print("Fetch Error: \(error.localizedDescription)")
        }
    }
    
    func fetchMenu(with restaurant: Restaurant, _ type: Rate) {
        let sortedMenu: [Menu] = restaurant.MenuList.sorted(by: { $0.wrappedName < $1.wrappedName })
        self.filteredMenu = sortedMenu.filter { $0.rate == type.rawValue }
    }
```
</details>

#### Update ([ë§í¬](https://github.com/Bhoon-coding/BestEats_refactor/blob/bcf96f7d84150aeff5cf34a91098eb708c7ce5d3/BestEats/Managers/CoreData/CoreDataManager.swift#L74-L103))
<details>
<summary>ì†ŒìŠ¤ì½”ë“œ</summary>
    
```swift
    
    // MARK: - Update
    
    func updateRestaurant(with restaurant: Restaurant, newName: String? = nil) {
        if let newName = newName {
            restaurant.name = newName
            saveContext()
        }
    }
    
    func updateMenu(
        with restaurant: Restaurant,
        id menuId: UUID,
        name menuName: String,
        oneLiner menuOneLiner: String,
        rate menuRate: String,
        isFavorite: Bool = false
    ) {
        guard let menuSet = restaurant.menu as? Set<Menu> else {
            print("No menu in restaurant")
            return
        }
        
        if let menu = menuSet.first(where: { $0.id == menuId }) {
            menu.name = menuName
            menu.oneLiner = menuOneLiner
            menu.rate = menuRate
            menu.isFavorite = isFavorite
            saveContext()
        }
    }
```
</details>

#### Delete ([ë§í¬](https://github.com/Bhoon-coding/BestEats_refactor/blob/bcf96f7d84150aeff5cf34a91098eb708c7ce5d3/BestEats/Managers/CoreData/CoreDataManager.swift#L105-L110))
    
<details>
<summary>ì†ŒìŠ¤ì½”ë“œ</summary>
    
```swift
    // MARK: - Delete
    
    func delete(with object: NSManagedObject) {
        context.delete(object)
        saveContext()
    }
    
```
</details>


  

<br>

  

### ë§›ì§‘ ì°¾ê¸°

 <img width= "30%" src = "https://github.com/user-attachments/assets/ad5525b5-9ee8-40aa-9b8e-e8503e65ea5a">

  

- ë“±ë¡ë˜ì–´ ìˆëŠ” ìŒì‹ì ì„ `filter`, `contain` ë©”ì†Œë“œë¥¼ ì´ìš©í•´ì„œ ì‚¬ìš©ìê°€ ì°¾ê³ ì í•˜ëŠ” ìŒì‹ì ì„ ì§ê´€ì ìœ¼ë¡œ ì¶”ë ¤ë‚´ê²Œ êµ¬í˜„
    
<br><br>

  
## ê·¼ì²˜ ë§›ì§‘ ([PlaceMapView](https://github.com/Bhoon-coding/BestEats_refactor/blob/develop/BestEats/View/PlaceMap/PlaceMapView.swift))
    
- MapKitì„ ì´ìš©í•´ ì§€ë„ ë° ê° ë§›ì§‘ ë§ˆì»¤ êµ¬í˜„í•¨
- CLLocationìœ¼ë¡œ í˜„ìœ„ì¹˜ ì¢Œí‘œ, ëª©ì ì§€ê¹Œì§€ ë‚¨ì€ê±°ë¦¬ë¥¼ êµ¬í•´ì˜¤ë„ë¡ êµ¬í˜„í•¨
    


- [ì¹´ì¹´ì˜¤ ë¡œì»¬ API](https://developers.kakao.com/docs/latest/ko/local/dev-guide#search-by-keyword)ë¥¼ ì´ìš©í•´ ì„ íƒí•œ ë§›ì§‘ ì¹´í…Œê³ ë¦¬ì— ë”°ë¼ ê·¼ì²˜ ë§›ì§‘ ê²€ìƒ‰ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ë„ë¡ êµ¬í˜„í•¨

    
|ê·¼ì²˜ ë§›ì§‘ View|ë§›ì§‘ detailView(WebView) <br> ì˜ˆì•½í•˜ê¸°|
|:--:|:--:|
|<img width= "40%" src = "https://github.com/user-attachments/assets/fc29cacd-cfb7-44b8-bc7f-dc52048dea39">|<img width= "30%" src = "https://github.com/user-attachments/assets/fee3bc6b-90b7-4127-ad09-d8fe4eecd9db">|

<br><br>

    
## ê³ ë¯¼í•œì 

#### Prop Drilling
    
**ë‚´ìš©**

ë¡œì»¬ë°ì´í„° ê´€ë¦¬ì‹œ (ë§›ì§‘, ë©”ë‰´ ë°ì´í„°) ì•„ë˜ ì‘ì—…ì˜ ë¶ˆí¸í•¨ì´ ìˆì—ˆìŒ
    
1. ë§›ì§‘ View â†’ í•´ë‹¹ ë§›ì§‘ì˜ ë©”ë‰´ View â†’ ë©”ë‰´ ì¶”ê°€ & ë©”ë‰´ ìˆ˜ì • View ì²˜ëŸ¼ ê³„ì¸µë³„ë¡œ ë°ì´í„° ì „ë‹¬ì˜ ë²ˆê±°ë¡œì›€ì´ ìˆì—ˆìŒ
2. ë§›ì§‘, ë©”ë‰´ ë°ì´í„°ê°€ ë°”ë€” ê²½ìš° íŠ¹ì • Viewì—ì„œ UI ë³€í™”ê°€ í•„ìš”í–ˆìŒ
    
<img width= "550" src = "https://github.com/user-attachments/assets/0acb45e3-6f38-4e7a-bd83-2674d839bca0">

<br><br>
    
**í•´ê²°**

1. `@EnvironmentObject` ë¥¼ ì‚¬ìš©í•´ ì¶”í›„ ì•± ê³ ë„í™”ì‹œì—ë„ ì—¬ëŸ¬ Viewì—ì„œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë„ë¡ ìˆ˜ì •í•¨.
2. `@Published`ë¥¼ ì´ìš©í•´ CoreDataManager ë‚´ë¶€ì˜ ë°ì´í„°ê°’ ë³€í™”ë¥¼ ê°ì§€í•˜ê³  íŠ¹ì • Viewì˜ UIì—…ë°ì´íŠ¸ í•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•¨.
    
<img width= "550" src = "https://github.com/user-attachments/assets/3bf6d797-8c3c-4b87-b634-d6fb9734743e">




<br><br>

## Git Branch

  

`<Prefix>/<êµ¬í˜„ë‚´ìš©>(<#ì´ìŠˆë²ˆí˜¸>)` ì˜ ì–‘ì‹ì— ë”°ë¼ ë¸Œëœì¹˜ ëª…ì„ ì‘ì„±í•©ë‹ˆë‹¤.

  

  

### 1. prefix

- `main`: ê°œë°œì´ ì™„ë£Œë˜ì–´ ìµœì¢… ë°°í¬ë  ë¸Œëœì¹˜
- `develop`: default branch - feat, fixë“± êµ¬í˜„ëœ ê¸°ëŠ¥ë“¤ì´ mergeëœ í›„ mainì— merge ë˜ê¸° ì „ ê´€ë¦¬ë  ë¸Œëœì¹˜
- `feat`: ê¸°ëŠ¥ì„ ê°œë°œí•˜ëŠ” ë¸Œëœì¹˜
- `fix`: ë²„ê·¸ë¥¼ ìˆ˜ì •í•˜ëŠ” ë¸Œëœì¹˜

  

### âš ï¸ ì°¸ê³ 

- ë„ì–´ì“°ê¸° ë¶€ë¶„ì€ '_'(ì–¸ë”ë°”)ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
- branch ë‚´ìš©ì€ 'ì†Œë¬¸ì ì˜ì–´'ë¡œë§Œ ì‘ì„±í•©ë‹ˆë‹¤.


### ì˜ˆì‹œ

  

``` swift

fix/restaurant_page(#10)

feat/serach_restaurant(#8)

```

  

## Commit Message Convention

  

### 1. ê¸°ë³¸ í˜•ì‹

```swift

// ì•„ë˜ êµ¬ë¶„ë§ˆë‹¤ ë„ì›Œì“°ê¸° í•´ì£¼ë©°, [ì´ìŠˆë‚´ìš©] ë¶€ë¶„ì— ë„ì–´ì“°ê¸°ì‹œ ê·¸ëŒ€ë¡œ ë„ì›Œì¤ë‹ˆë‹¤.

[prefix]: [ì´ìŠˆë‚´ìš©]

```

  

### 2. ì˜ˆì‹œ

  

```swift

feat: ë§›ì§‘ ê²€ìƒ‰ê¸°ëŠ¥ êµ¬í˜„

```

## Code Convention

https://github.com/StyleShare/swift-style-guide ì„ ìµœëŒ€í•œ ë”°ë¥´ê³  ìˆìŠµë‹ˆë‹¤.
